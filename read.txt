import { mergeWithDefaults } from './path_to_your_function'; // adjust the import path

// Define test data and defaults
const userData = {
  username: 'testUser',
  details: {
    age: 25,
    preferences: {
      notifications: true
    }
  },
  preferences: {
    theme: 'dark'
  }
};

const defaultData = {
  username: 'defaultUser',
  details: {
    age: 18,
    preferences: {
      notifications: false,
      language: 'en'
    }
  },
  preferences: {
    theme: 'light',
    fontSize: 12
  }
};

// Expected merged result
const expectedMergedData = {
  username: 'testUser',
  details: {
    age: 25,
    preferences: {
      notifications: true,
      language: 'en'
    }
  },
  preferences: {
    theme: 'dark',
    fontSize: 12
  }
};

// Run the test
const result = mergeWithDefaults(userData, defaultData);

console.log('Test passed:', JSON.stringify(result) === JSON.stringify(expectedMergedData));